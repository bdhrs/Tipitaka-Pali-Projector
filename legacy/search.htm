<!DOCTYPE html PUBLIC "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
  <title>TPP Search</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="TIPITAKA PROJECTOR ICON" href="images/favico.ico">
  <style>
    .tinysetting {
		text-align: center;
		font-size: small;
		color: red;
    }

    a:hover {
		color: #0000ff;
		text-decoration: none;
    }

    a:visited {
		color: #0000ff;
		text-decoration: none;
    }

    a:link {
		color: #0000ff;
		text-decoration: none;
    }
  </style>
</head>

<body style="margin-top:0.0pt;margin-right:0in;margin-bottom:0in;margin-left:0in;margin-bottom:0pt;font-size:12.0pt;line-height:200%;font-family:Palatino, sans-serif;" bgcolor="#ffffc0">

	<table align="center" bgcolor="#ffffc0" border="0" width="100%" cellpadding="0" cellspacing="0">
	<tbody>
		<tr>
			<td width="2%"></td>
			<td align="right" valign="center" width="10%">
				<a href="index.htm">
					<img src="images/asoka.png">
				</a>
			</td>
			<td align="center" width="76%">
				<span style='line-height:140%;color:brown;font-size:15pt;'><b>Tipiṭaka Pāḷi Projector</b></span> - 20200330 (TG)

				<hr style="border: 1pt dashed gray; width:50%;"> 
				Entry <a href="#Velthuis" onClick="Velthuis()" title="Show Velthuis">
				<span style="color:blue;">Velthuis Pali</span></a> word&nbsp;
				<input type="textbox" name="key" id="key" style="font-size:12pt;width:100%;max-width:280px;" onkeyup="Keyin()" value="">
				<input type="hidden" id="id1">
				<input type="hidden" id="id2">
				<table border="0" width="70%">
					<tr>
						<td width="20%" align="right">
							Search in :&nbsp;
						</td>	
						<td width="70%">
							<input name="SearchType" id="SearchType1" type="radio" onChange="SetSelect();Keyin()" checked>
          					<label for="SearchType1" style="color:blue;font-size:12pt;">&nbsp;Tipiṭaka&nbsp;</label>
          				
          				
							<input type="submit" onClick="Start_Fuzzy()" name="Submit" value="Fuzzy">&nbsp;&nbsp;
							<input type="submit" onClick="Start_Exact()" name="Submit" value="Exact">&nbsp;&nbsp;
							<input type="submit" onClick="Start_Prefix()" name="Submit" value="Prefix">&nbsp;&nbsp;
							<input type="submit" onClick="Start_Suffix()" name="Submit" value="Suffix"><br>
						</td>
						<td width="10%"></td>
					</tr>
					<tr>
						<td></td>
						<td>
      						<input name="SearchType" id="SearchType2" type="radio" onChange="SetSelect();Keyin()">
          					<label for="SearchType2" style="color:blue;font-size:12pt;">&nbsp;Fuzzy Title&nbsp;</label>
      						<input name="SearchType" id="SearchType3" type="radio" onChange="SetSelect();Keyin()">
          					<label for="SearchType3" style="color:blue;font-size:12pt;">&nbsp;Prefix Title&nbsp;</label>
          				</td>
          				<td>
          					<span style="color:blue;cursor: pointer;font-size:12pt;" onClick="Clear();">Clear</span><br>		
          				</td>
          			</tr>
          		</table>
				<span id="msg"></span>
			</td>
			<td align="center" width="10%">
				<span align="center" style="color:blue;"><a href="index.htm"><img src="images/home.png"> Home </a>
				<br></span>Seach Tipiṭaka
			</td>
			<td width="2%"></td>
		</tr>
		<tr style="line-height: 150%">
			<td></td>
			<!--  onClick="document.getElementById('out').innerHTML= '';" -->
			<td colspan="3" id="suggest">
				<span id="out"></span>
			</td>
			<td></td>
		</tr>
	</tbody>
	</table>

	<table align="left" bgcolor="#ffffc0" border="0" cellspacing="1" cellpadding="3" width="100%">
	<tbody>
		<tr>
			<td width="1%">
			</td>
			<td align="center" width="17%" bgcolor="#bfb070">
				<input id="All" type="checkbox" name="All" onclick='choosePali("All")' /></input>
				<label for="All" onclick='choosePali("All")'>ALL</label>
			</td>
			<td width="27%" bgcolor="#dfd090">
				<input id="MAT1" type="checkbox" name="MAT1" onclick='choosePali("x1")' /></input>
				<label for="MAT1" onclick='choosePali("x1")'>1 Mūla</label>
			</td>
			<td width="27%" bgcolor="#dfd090">
				<input id="MAT2" type="checkbox" name="MAT2" onclick='choosePali("x2")' /></input>
				<label for="MAT2" onclick='choosePali("x2")'>2 Aṭṭhakathā</label>
			</td>
			<td width="27%" bgcolor="#dfd090">
				<input id="MAT3" type="checkbox" name="MAT3" onclick='choosePali("x3")' /></input>
				<label for="MAT3" onclick='choosePali("x3")'>3 Ṭīkā</label>
			</td>
			<td width="1%"></td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya1" type="checkbox" name="Nikaya1" onclick='choosePali("1x")' /></input>
				<label for="Nikaya1" onclick='choosePali("1x")'>●1 Vinayapiṭaka</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x11">
				<input id="Nikaya11" type="checkbox" name="Nikaya11" onclick='choosePali("11")' /></input>
				<span id="Out11"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x12">
				<input id="Nikaya12" type="checkbox" name="Nikaya12" onclick='choosePali("12")' /></input>
				<span id="Out12"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x13">
				<input id="Nikaya13" type="checkbox" name="Nikaya13" onclick='choosePali("13")' /></input>
				<span id="Out13"></span>
			</td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya2" type="checkbox" name="Nikaya2" onclick='choosePali("2x")' /></input>
				<label for="Nikaya2" onclick='choosePali("2x")'>●2 Dīghanikāya</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x21">
				<input id="Nikaya21" type="checkbox" name="Nikaya21" onclick='choosePali("21")' /></input>
				<span id="Out21"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x22">
				<input id="Nikaya22" type="checkbox" name="Nikaya22" onclick='choosePali("22")' /></input>
				<span id="Out22"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x23">
				<input id="Nikaya23" type="checkbox" name="Nikaya23" onclick='choosePali("23")' /></input>
				<span id="Out23"></span>
			</td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya3" type="checkbox" name="Nikaya3" onclick='choosePali("3x")' /></input>
				<label for="Nikaya3" onclick='choosePali("3x")'>●3 Majjhimanikāya</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x31">
				<input id="Nikaya31" type="checkbox" name="Nikaya31" onclick='choosePali("31")' /></input>
				<span id="Out31"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x32">
				<input id="Nikaya32" type="checkbox" name="Nikaya32" onclick='choosePali("32")' /></input>
				<span id="Out32"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x33">
				<input id="Nikaya33" type="checkbox" name="Nikaya33" onclick='choosePali("33")' /></input>
				<span id="Out33"></span>
			</td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya4" type="checkbox" name="Nikaya4" onclick='choosePali("4x")' /></input>
				<label for="Nikaya4" onclick='choosePali("4x")'>●4 Saṃyuttanikāya</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x41">
				<input id="Nikaya41" type="checkbox" name="Nikaya41" onclick='choosePali("41")' /></input>
				<span id="Out41"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x42">
				<input id="Nikaya42" type="checkbox" name="Nikaya42" onclick='choosePali("42")' /></input>
				<span id="Out42"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x43">
				<input id="Nikaya43" type="checkbox" name="Nikaya43" onclick='choosePali("43")' /></input>
				<span id="Out43"></span>
			</td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya5" type="checkbox" name="Nikaya5" onclick='choosePali("5x")' /></input>
				<label for="Nikaya5" onclick='choosePali("5x")'>●5 Aṅguttaranikāya</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x51">
				<input id="Nikaya51" type="checkbox" name="Nikaya51" onclick='choosePali("51")' /></input>
				<span id="Out51"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x52">
				<input id="Nikaya52" type="checkbox" name="Nikaya52" onclick='choosePali("52")' /></input>
				<span id="Out52"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x53">
				<input id="Nikaya53" type="checkbox" name="Nikaya53" onclick='choosePali("53")' /></input>
				<span id="Out53"></span>
			</td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya6" type="checkbox" name="Nikaya6" onclick='choosePali("6x")' /></input>
				<label for="Nikaya6" onclick='choosePali("6x")'>●6 Khuddakanikāya</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x61">
				<input id="Nikaya61" type="checkbox" name="Nikaya61" onclick='choosePali("61")' /></input>
				<span id="Out61"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x62">
				<input id="Nikaya62" type="checkbox" name="Nikaya62" onclick='choosePali("62")' /></input>
				<span id="Out62"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x63">
				<input id="Nikaya63" type="checkbox" name="Nikaya63" onclick='choosePali("63")' /></input>
				<span id="Out63"></span>
			</td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya7" type="checkbox" name="Nikaya7" onclick='choosePali("7x")' /></input>
				<label for="Nikaya7" onclick='choosePali("7x")'>●7 Abhidhammapiṭaka</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x71">
				<input id="Nikaya71" type="checkbox" name="Nikaya71" onclick='choosePali("71")' /></input>
				<span id="Out71"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x72">
				<input id="Nikaya72" type="checkbox" name="Nikaya72" onclick='choosePali("72")' /></input>
				<span id="Out72"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x73">
				<input id="Nikaya73" type="checkbox" name="Nikaya73" onclick='choosePali("73")' /></input>
				<span id="Out73"></span>
			</td>
		</tr>
		<tr>
			<td valign="top"></td>
			<td bgcolor="#dfd090" valign="top">
				<input id="Nikaya8" type="checkbox" name="Nikaya8" onclick='choosePali("8x")' /></input>
				<label for="Nikaya8" onclick='choosePali("8x")'>●8 Añña</label>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x81">
				<input id="Nikaya81" type="checkbox" name="Nikaya81" onclick='choosePali("81")' style="visibility:hidden;" /></input>
				<span id="Out81" style="visibility:hidden;"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x82">
				<input id="Nikaya82" type="checkbox" name="Nikaya82" onclick='choosePali("82")' /></input>
				<span id="Out82"></span>
			</td>
			<td bgcolor="#ffe0b0" valign="top" id="x83">
				<input id="Nikaya83" type="checkbox" name="Nikaya83" onclick='choosePali("83")' /></input>
				<span id="Out83"></span>
			</td>
		</tr>
	</tbody>
</table>

	<div id="velthuis" align="center" style="display:none;">
		<center>
		<table width="90%">
			<tr>
				<td align="left">
					<b>The Velthuis Scheme</b>
				</td>
				<td align="right">
				</td>
			</tr>
			<tr>
				<td class="small">
					<i>(taken from <a class="small" href="http://www.tipitaka.net/pali/paliload.php?page=velthuis" style="color:green">http://www.tipitaka.net/pali/paliload.php?page=velthuis</a>)</i>
				</td>
			</tr>
		</table>
		<table width="90%" border="1" bordercolor="#FF9900" cellspacing="0" cellpadding="3"onClick="Velthuis();">
			<tr>
				<td rowspan="15" valign="top" >
					<p><b>Double the vowels, Punctuate the consonants</b></p>
					<p>This scheme was originally developed in 1991 by Frans Velthuis for use with
					 his <i>devnag</i> Devanagari font, designed for the TeX typesetting system. Pali
					 and Sanskrit scholars have since adopted it as a standard technique in Internet
					 correspondence.</p>
					<p>In the Velthuis scheme, two basic rules are observed:</p>
					<p>1. Long vowels (those with a macron (bar) above them) are doubled: aa, ii, uu.</p>
					<p>2. For consonants, the diacritic mark precedes the letter it affects. Thus,
					 the retroflex (cerebral) consonants (those with a dot underneath) are: .r .t .th
					 .d .dh .n .m .s .l. The guttural nasals (m  with a dot below or n with a dot above) are
					 represented by "m and "n. The palatal nasal (n with a tilde) is ~n.</p>
					<p>The scheme is precise, although it takes a while to get used to. Here a table of the
					 affected Pali letters in both unicode form and Velthuis scheme.</p>
				</td>
				<td bgcolor="#F0F000"><b>Unicode</b></td>
				<td bgcolor="#F0F000"><b>Velthuis</b></td>
			</tr>

			<tr>
				<td bgcolor="#F0F000" colspan="2" align="center">(Long vowels)</td>
			</tr>

			<tr>
				<td bgcolor="#F0F000" align="center">ā</td>
				<td bgcolor="#F0F000" align="center">aa</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ī</td>
				<td bgcolor="#F0F000" align="center">ii</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ū</td>
				<td bgcolor="#F0F000" align="center">uu</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" colspan="2" align="center">(Consonants)</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ṅ</td>
				<td bgcolor="#F0F000" align="center">"n</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ñ</td>
				<td bgcolor="#F0F000" align="center">~n</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ṭ</td>
				<td bgcolor="#F0F000" align="center">.t</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ṭh</td>
				<td bgcolor="#F0F000" align="center">.th</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ḍ</td>
				<td bgcolor="#F0F000" align="center">.d</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ḍh</td>
				<td bgcolor="#F0F000" align="center">.dh</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ṇ</td>
				<td bgcolor="#F0F000" align="center">.n</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ḷ</td>
				<td bgcolor="#F0F000" align="center">.l</td>
			</tr>
			<tr>
				<td bgcolor="#F0F000" align="center">ṃ</td>
				<td bgcolor="#F0F000" align="center">.m</td>
			</tr>
		</table>
	</div>

	<a name="Velthuis"></a>

<br><br>
	<script>
		P_TNO = '';
		P_TNX = '';
	</script>

	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/z_search_pali_no.js"></script>
	<script src="js/z_tipitaka_Maps.js"></script>
	<script src="js/search_Fuzzy.js"></script>
	<script src="js/search_Exact.js"></script>
	<script src="js/search_Prefix.js"></script>
	<script src="js/search_Suffix.js"></script>
	<script src="js/search_Title_No.js"></script>

	<script>

		//<script src="dictionary/z_search_pali_words.js"></ script>
    	function Put(val) {
    		var key = document.getElementById('key').value.trim();
    		var pos = key.lastIndexOf(' ');
    		if (pos != -1) {
    			document.getElementById('key').value = key.substr(0, pos) + ' ' + val;
    		} else {
    			document.getElementById('key').value = val + ' ';
    		}
    		Start_Fuzzy();
    	}

		function replacei(str, sub, f) {
			let A = str.toLowerCase().split(sub.toLowerCase());
			let B = [];
			let x = 0;
			for (let i = 0; i < A.length; i++) {
				let n = A[i].length;
				B.push(str.substr(x, n));
				if (i < A.length-1)
					B.push(f(str.substr(x + n, sub.length)));
				x += n + sub.length;
			}
			return B.join('');
		}

		function toUniRegEx(input) {
			if(!input || input == '') return input;
			var nigahita = 'ṃ';
			var Nigahita = 'Ṃ'; 

			input = input.replace(/\-.r/g, 'ṝ').replace(/\.r/g, 'ṛ').replace(/\.R/g, 'Ṛ');
			input = input.replace(/\-.l/g, 'ḹ').replace(/\.h/g, 'ḥ');
			input = input.replace(/\"S/g, 'Ś').replace(/\"s/g, 'ś').replace(/\.S/g, 'Ṣ').replace(/\.s/g, 'ṣ');
			input = input.replace(/ee/g, 'ē').replace(/oo/g, 'ō');

			input = input.replace(/\"n/g, 'ṅ').replace(/aa/g, 'ā').replace(/ii/g, 'ī').replace(/uu/g, 'ū').replace(/\.t/g, 'ṭ').replace(/\.d/g, 'ḍ').replace(/\"nk/g, 'ṅk').replace(/\"ng/g, 'ṅg').replace(/\.n/g, 'ṇ').replace(/\.m/g, nigahita).replace(/\u1E41/g, nigahita).replace(/\~n/g, 'ñ').replace(/\.l/g, 'ḷ').replace(/AA/g, 'Ā').replace(/II/g, 'Ī').replace(/UU/g, 'Ū').replace(/\.T/g, 'Ṭ').replace(/\.D/g, 'Ḍ').replace(/\"N/g, 'Ṅ').replace(/\.N/g, 'Ṇ').replace(/\.M/g, Nigahita).replace(/\~N/g, 'Ñ').replace(/\.L/g, 'Ḷ');
			return input;
		}

		function SetSelect() {
			var dsp = 'none';
			if (document.getElementById('SearchType1').checked == true) {
				dsp = 'inline';
			}
			for (i=1; i<=3; i++) {
				for (j=1; j<=8; j++) {
					no = '' + j + '' + i;
					document.getElementById('Nikaya' + no).style.display = dsp;
					document.getElementById('Out' + no).innerHTML = '';
				}
			}
			// document.getElementById('out').innerHTML = '';
		}

		function Jump(url) {
			html = url.substring(0, 4) + '.htm';
			id = url.substring(4);
			document.write = localStorage.setItem('history_pos', '#R' + id);		// W=New Window, I=Jump ID
			window.open(html, '_blank');
		}


		pws = [];

		function Keyin() {
			var key = toUniRegEx(document.getElementById('key').value);
			document.getElementById('key').value = key;
			key = key.trim().toLowerCase();

			if (document.getElementById('SearchType1').checked == true) {
				key_ary = key.split(' ');
				key_ary_length = key_ary.length;

				var out = "";
				var key_notfound = "";
				for (key_i=0; key_i<key_ary_length; key_i++) {
					key = key_ary[key_i].trim();
					var len = key.length;
					if (1 <= len) {
						if ((pws[key.substring(0, 1)] == undefined) && ('abcdeghijklmnoprstuvyñāīūḍḷṃṅṇṭ'.indexOf(key.substring(0, 1)) != -1)) {
							var newscript = document.createElement('script');
							newscript.setAttribute('type', 'text/javascript');
							newscript.setAttribute('src', 'dictionary/zz_search_' + key.substring(0, 1) + '.js');
							var head = document.getElementsByTagName('head')[0];
							head.appendChild(newscript); 
						}	

						if ((key_i +1) ==  key_ary_length) {
							cx = 0;
							var out_tmp = "";

							for (var i in pws) {
								if (i.substring(0, len) == key) {
									cx = cx +1;
									out_tmp = out_tmp + '<a hef="javascript:void(0)" style="color:blue;" onClick="Put(\'' + i + '\');">' + i + '</a>' + " <span style='font-size:9pt;color:#800080;'>" + pws[i] + "</span>,&nbsp;&nbsp;&nbsp;";
									if (cx > 99) {
										out_tmp = out_tmp + " <span style='font-size:12pt;color:red;'>> 99...</span>";
										break;
									}
								}
							}

							if (out_tmp == "") {
								key_notfound = key_notfound + key + " ";
							} else {
								out = out + out_tmp;
							}
						} else {
							if (pws[key] == undefined) {
								key_notfound = key_notfound + key + ".... ";
							}
						}
					}
				}
				document.getElementById('out').innerHTML = out;
			} else {
				if (2 < key.length) {
					var ary = [];
					for (i=1; i<=3; i++) {
						for (j=1; j<=8; j++) {
							no = '' + j + '' + i;
							ary[no] = '';
							document.getElementById('Out' + no).innerHTML = '';
						}
					}

					var type2 = document.getElementById('SearchType2').checked;
					var lenx = key.length;

					old = 'x';
					cx = 0;
					for (i in P_TNO) {
						sutta = i.substring(0, 4)
						no = i.substring(0, 2);
						var sub = i.substr(8, lenx);
						//chk = document.getElementById('Nikaya' + no).checked;
						//if ((i.indexOf(key) != -1) && (chk == true)) {
						if (((i.indexOf(key) != -1) && type2) || ((sub == key) && !type2)) {
							
							if (old != sutta) {
								ary[no] = ary[no] + '<hr style="border: 1pt dashed gray;"><b style="color:brown;">' + sutta + " " + T_Book[sutta] + "</b><br>";
							}
							cx = cx + 1;

							name = i.substring(8);
							name = name.replace(key, '<span style="background:yellow">' + key + '</span>');

							ary[no] = ary[no] + cx + ' ' + '<a href="javascript:void(0);" onClick="Jump(\'' + sutta + P_TNO[i] + '\')" title="' + P_TNO[i] + '">' + name + '<span></a><br>';
							old = sutta;
						}
					}	

					for (i=1; i<=3; i++) {
						for (j=1; j<=8; j++) {
							no = '' + j + '' + i;
							id = 'Out' + no;
							document.getElementById(id).innerHTML = ary[no];
						}
					}
				}	
			}	
		}

		//**************************************************************************************
		

		//**************************************************************************************
		

		//**************************************************************************************
		

		//**************************************************************************************
		

		//**************************************************************************************
		function Velthuis() {
			v1 = document.getElementById("velthuis").style.display;
			if (v1 == "none") {
				document.getElementById("velthuis").style.display = "inline";
			} else {
				document.getElementById("key").focus();
				document.getElementById("velthuis").style.display = "none";

			}
		}

		function Clear() {
	        for (i in localStorage) {
	        	if (i.substring(0, 3) == 'Sr_') {
	          		document.write.innerHTML = localStorage.setItem(i, '');
	          		document.write.innerHTML = localStorage.removeItem(i);
	          	}	
	        } 

			document.write.innerHTML = localStorage.setItem("Sr_key", '');
			document.getElementById('key').value = '';
			document.getElementById('key').focus();
			for (x=1; x<=3; x++) {
				for (y=1; y<=8; y++) {
					var name1 = 'Out' + y + x;
					document.getElementById(name1).innerHTML = '';
				}
			}
		}

		function choosePali(val) {
			var chk, key, x , y;
			var v1 = val.substring(0, 1);
			var v2 = val.substring(1, 2);

			if (val == 'All') {
				chk = document.getElementById('All').checked;
				for (x=1; x<=3; x++) {
					for (y=1; y<=8; y++) {
						key = 'Nikaya' + y + x;
						document.getElementById(key).checked = chk;
					}
				}
			}
			if (v1 == 'x') {
				chk  = document.getElementById('MAT' + v2).checked;
				for (y=1; y<=8; y++) {
					key = 'Nikaya' + y + v2;
					document.getElementById(key).checked = chk;
				}
			}
			if (v2 == 'x') {
				chk  = document.getElementById('Nikaya' + v1).checked;
				for (x=1; x<=3; x++) {
					key = 'Nikaya' + v1 + x;
					document.getElementById(key).checked = chk;
				}
			}
		}

		function Show_Detail(id) {
			var html = document.getElementById(id).innerHTML;
			var pos1 = html.indexOf('<hr');
			if (pos1 == -1) {
				document.getElementById(id).innerHTML = document.getElementById(id).innerHTML + localStorage.getItem('Sr_' + id);
			} else {
				document.getElementById(id).innerHTML = document.getElementById(id).innerHTML.substring(0, pos1);
			}
		}

window.onload = function () {
			
		// new code to have all boxes checked.. search is fast so why not?
		// 
		// maybe later we can save in local storage and check based on that.	
		document.getElementById('All').checked = true;
		choosePali('All');
	}


		// add listener to go back when the escape key is pressed.
		window.addEventListener("keyup", function(e){ if(e.keyCode == 27) history.back(); }, false);
  </script>

</body></html>
